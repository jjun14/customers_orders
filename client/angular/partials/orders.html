<div class="container" ng-controller='ordersController'>
  <div class="row">
    <div class="col-md-8">
      <p>Orders</p> | 
      <a href="#/Customers">Customers</a>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3>Add a new order</h3>
      Customer:
      <div>
        <select ng-model='newOrder.name'>
          <option value="" disabled selected>Select customer name</option>
          <option ng-repeat='customer in customers'>{{customer.name}}</option>
        </select>
      </div>
      Order: <input type="number" ng-model='newOrder.quantity' min='1'>
      <div>
        <select ng-model='newOrder.product' ng-options='product.name for product in products'>
          <option value="" disabled selected>Select a product</option>
        </select>
      </div>
      <br>
      <div>
        <input ng-click='addOrder(newOrder)' class='btn btn-primary' type="submit" value="Order">
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-3 pull-right">
      <input type="text" ng-model='filter_order' placeholder='filter...'>
    </div>
  </div>
  <table class='table table-bordered table-striped' ng-controller='ordersController'>
    <thead>
      <tr>
        <th>Customer Name</th>
        <th>Product </th>
        <th>Quantity</th>
        <th>Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat='order in orders | filter: filter_order'>
        <td>{{order.name}}</td>
        <td>{{order.product}}</td>
        <td>{{order.quantity}}</td>
        <td>{{ order.created_at | date: format:longdate }}</td>
        <td><a class='btn btn-danger' ng-click='removeOrder(order)'>Remove</a></td>
      </tr>
    </tbody>
  </table>
</div>